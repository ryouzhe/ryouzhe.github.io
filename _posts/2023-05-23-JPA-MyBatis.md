---
layout: post
title: JPA와 MyBatis
date: 2023-05-23
categories: [Java]
tag: [Java,JPA,MyBatis]
---

## **JPA**

JPA는 Java Persistence API의 약자로, 자바에서 관계형 데이터베이스와의 데이터 접근을 편리하게 처리하기 위한 API이다. JPA는 객체 지향 프로그래밍과 관계형 데이터베이스 간의 데이터 매핑 및 조작을 추상화한 인터페이스를 제공하여 개발자가 데이터베이스에 대한 저수준의 작업을 최소화하고, 객체 중심의 프로그래밍 모델을 사용하여 데이터를 다룰 수 있게 해준다.

JPA는 ORM(Object-Relational Mapping) 기술의 구현체 중 하나로, 객체와 데이터베이스 간의 매핑을 자동화해주는 기능을 제공한다. 개발자는 JPA를 사용하여 객체를 데이터베이스에 저장, 검색, 수정, 삭제 등의 작업을 할 수 있으며, SQL 쿼리를 직접 작성하지 않고도 객체를 통해 데이터베이스에 접근할 수 있다.

JPA를 사용하면 객체 지향적인 코드를 작성할 수 있고, 데이터베이스 구조의 변경에 유연하게 대처할 수 있다. 또한, 데이터베이스 벤더에 종속되지 않는 플랫폼 독립성을 제공하며, 개발 생산성을 향상시키고 코드의 재사용성을 높일 수 있다.

## **MyBatis** 

MyBatis는 SQL 매핑 프레임워크로, Java 언어를 기반으로 한 오픈 소스 프레임워크다. MyBatis는 데이터베이스와의 상호 작용을 단순화하고, SQL 쿼리의 작성 및 실행을 관리하는 데 중점을 둔다.

MyBatis는 SQL 매핑 파일(XML 또는 어노테이션)을 통해 객체와 SQL 쿼리를 매핑한다. 개발자는 SQL 매핑 파일에서 SQL 쿼리를 정의하고, 이를 객체와 연결하여 데이터베이스 조작을 수행할 수 있다. MyBatis는 데이터베이스와의 상호 작용을 위해 JDBC를 사용하며, 일반적인 SQL 쿼리와 프로시저를 실행하는 데 유용한 기능을 제공한다.

MyBatis의 주요 특징은 아래와 같다.

>
>**간단한 설정**: XML 또는 어노테이션을 사용하여 SQL 매핑을 정의하고, 데이터베이스 연결 및 트랜잭션 관리와 같은 설정을 간단하게 구성할 수 있다.
>
>**유연한 SQL 작성**: 복잡한 SQL 문을 쉽게 작성하고 관리할 수 있으며, 동적 쿼리 작성을 위한 기능도 제공한다.
>
>**객체 매핑**: 객체와 데이터베이스 테이블 간의 매핑을 지원하며, 객체 그래프의 관계를 처리하는 데도 용이한다.
>
>**다양한 데이터베이스 지원**: 다양한 데이터베이스 시스템과 호환되며, 데이터베이스 벤더에 독립적으로 작동한다.
>
>**성능 향상**: 캐시 기능을 활용하여 데이터베이스 조회 성능을 향상시킬 수 있다.
>

MyBatis는 간단하고 직관적인 SQL 작성과 유연한 매핑 기능을 제공하여 개발자가 데이터베이스와의 상호 작용을 효과적으로 처리할 수 있도록 도와준다.

## **JPA와 MyBatis의 차이**

JPA와 MyBatis는 둘 다 Java 언어를 기반으로 한 데이터베이스와의 상호 작용을 도와주는 프레임워크다.

#### **1.ORM vs. SQL 매핑**
JPA는 ORM(Object-Relational Mapping) 프레임워크로, 객체와 데이터베이스 테이블 간의 매핑을 자동으로 처리한다. JPA를 사용하면 객체 지향적인 방식으로 데이터베이스를 다룰 수 있으며, SQL 쿼리를 직접 작성하지 않아도 된다.
MyBatis는 SQL 매핑 프레임워크로, SQL 쿼리와 객체를 매핑하는 역할을 담당한다. 개발자는 SQL 쿼리를 직접 작성하고, 이를 객체와 연결하여 데이터베이스 작업을 수행한다.

#### **2.영속성 관리**
JPA는 영속성 컨텍스트를 통해 객체의 상태를 관리한다. 영속성 컨텍스트는 데이터베이스와의 작업을 추상화하고, 객체의 변경 사항을 자동으로 감지하여 적절한 SQL 쿼리를 생성하여 데이터베이스에 반영한다.
MyBatis는 개발자가 직접 SQL 쿼리를 작성하고 실행하므로, 영속성 컨텍스트를 사용하지 않습니다. 개발자는 객체와 데이터베이스 간의 매핑을 명시적으로 처리해야 한다.

#### **3.개발 방식**
JPA는 객체 중심의 개발 방식을 지향한다. 개발자는 데이터베이스 스키마를 직접 작성하는 대신, 엔티티 클래스와 애노테이션을 사용하여 객체 모델을 정의하고 관리한다.
MyBatis는 SQL 중심의 개발 방식을 따른다. 개발자는 SQL 쿼리를 직접 작성하고, 이를 매핑 파일이나 어노테이션을 통해 객체와 연결한다.

#### **4.성능**
JPA는 영속성 컨텍스트와 지연 로딩 등의 기능을 통해 성능을 최적화하고, 캐시를 효과적으로 활용할 수 있다.
MyBatis는 개발자가 직접 SQL 쿼리를 작성하고 실행하므로, 성능 튜닝과 최적화에 유연성을 제공한다. 개발자는 SQL 쿼리를 직접 제어하므로 세밀한 조정이 가능하다.

#### **5.복잡성**
JPA는 ORM 프레임워크로, 객체와 데이터베이스 간의 복잡한 매핑 작업을 자동으로 처리한다. 이에 따라 개발자는 데이터베이스 관련 작업에 대한 부분적인 이해만으로도 개발을 진행할 수 있다.
MyBatis는 SQL 매핑 프레임워크로, 개발자는 SQL 쿼리를 직접 작성하고 매핑 작업을 수동으로 처리해야 한다. 이는 매핑 작업에 대한 개발자의 이해와 노력을 요구할 수 있다.

#### **6.유연성**
JPA는 객체와 데이터베이스 간의 유연한 매핑을 지원한다. 관계형 데이터베이스의 특성에 대한 추상화를 제공하고, 다양한 객체 간의 관계를 쉽게 표현할 수 있다.
MyBatis는 SQL 쿼리를 직접 작성하므로, 개발자는 복잡한 쿼리와 데이터베이스 특정 기능을 유연하게 활용할 수 있다. MyBatis는 데이터베이스에 대한 직접적인 제어를 허용하기 때문에 고도로 커스터마이징이 가능하다.

#### **7.학습 곡선**
JPA는 ORM 프레임워크로, 객체와 데이터베이스 간의 매핑을 추상화하고 간소화하기 때문에 학습 곡선이 상대적으로 높을 수 있다. JPA의 복잡한 개념과 설정을 익히는 데 시간이 걸릴 수 있다.
MyBatis는 SQL 매핑 프레임워크로, 개발자가 직접 SQL 쿼리를 작성하므로 학습 곡선이 더 낮을 수 있다. SQL 문법과 데이터베이스 관련 지식에 대한 이해만 있다면 비교적 쉽게 사용할 수 있다.

#### **8.데이터베이스 지원**
JPA는 다양한 데이터베이스를 지원한다. JPA는 벤더 독립적인 API로, 다양한 데이터베이스 시스템과 호환되며, 데이터베이스 간 이식성을 보장한다.
MyBatis는 대부분의 관계형 데이터베이스를 지원하지만, 데이터베이스 종속적인 SQL 쿼리를 작성해야 한다. 데이터베이스 종류에 따라 쿼리 작성에 차이가 있을 수 있다.

#### **9.프로젝트 규모**
JPA는 대규모의 복잡한 프로젝트에서 유용하다. JPA는 객체 간의 관계를 관리하고, 영속성 컨텍스트를 통해 데이터베이스 작업을 최적화할 수 있으며, 자동으로 SQL 쿼리를 생성하여 개발 생산성을 높일 수 있다.
MyBatis는 작은 규모의 프로젝트나 SQL 쿼리의 세밀한 제어가 필요한 경우에 적합하다. MyBatis는 SQL 쿼리를 직접 작성하고 매핑하기 때문에, 개발자가 쿼리에 직접적으로 개입할 수 있다.

결론적으로, JPA는 객체와 데이터베이스 간의 매핑을 자동화하여 객체 지향적인 개발을 지원하며, 성능 최적화와 생산성을 높일 수 있다. MyBatis는 SQL 쿼리와 객체의 매핑을 개발자가 직접 제어하여 유연성과 성능 튜닝에 용이하다.